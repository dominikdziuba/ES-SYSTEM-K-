from datetime import *
rok_biezacy = datetime.now()
rok_biezacy = int(rok_biezacy.year)
swieta = [date(2022,1,1),date(2022,1,6),date(2022,5,1),date(2022,5,3),date(2022,8,15),date(2022,11,1),date(2022,11,11),date(2022,12,25),date(2022,12,26)]
for i in swieta:
    i=i.replace(year=rok_biezacy)


wielkanoc = [datetime(2023,4,10),datetime(2024,4,1), datetime(2025,4,21), datetime(2026,4,6), datetime(2027,3,29),datetime(2028,4,17), datetime(2029,4,2), datetime(2030,4,22)]
boze_cialo = []
for j in wielkanoc:
    j = j +timedelta(days=59)
    boze_cialo.append(j)



while True:
    data_przyj = datetime.now()
    data_przyj = data_przyj.replace(second=0,microsecond=0)
    data_przyj= data_przyj.replace(year=2024,month=1,day=1,hour=18)
    czas = int(input("Podaj czas naprawy"))

    dzien_tyg_p = data_przyj.isoweekday()
    data_przyj_2= data_przyj.date()
    if dzien_tyg_p == 7 or data_przyj_2 in swieta:
        if data_przyj.hour >= 15:
            data_przyj += timedelta(days=1)
            data_przyj = data_przyj.replace(hour=7, minute=0)
        elif data_przyj.hour < 7:
            data_przyj = data_przyj.replace(hour=7, minute=0)
    else:
        if data_przyj.hour >= 21:
            data_przyj += timedelta(days=1)
            data_przyj = data_przyj.replace(hour=7, minute=0)
        elif data_przyj.hour < 7:
            data_przyj = data_przyj.replace(hour=7, minute=0)

    data_zak = data_przyj

    for i in range(czas):
        dzien_tyg_z = data_zak.isoweekday()
        if dzien_tyg_z == 7 or data_zak in swieta:
            if data_zak.hour < 14:
                data_zak += timedelta(hours=1)
            else:
                data_zak += timedelta(days=1)
                data_zak = data_zak.replace(hour=7)
        else:
            if data_zak.hour < 20:
                data_zak += timedelta(hours=1)
            else:
                data_zak += timedelta(days=1)
                data_zak = data_zak.replace(hour=7)


    # print ("Pozostaly czas: " + str(czas))
    print("Data przyjecia: " + str(data_przyj))
    print("Data_zakonczenia: " + str(data_zak))
